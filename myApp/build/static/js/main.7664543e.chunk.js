(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{100:function(e,t,a){var n={"./ion-icon.entry.js":[178,57]};function r(e){var t=n[e];return t?a.e(t[1]).then(function(){var e=t[0];return a(e)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}r.keys=function(){return Object.keys(n)},r.id=100,e.exports=r},105:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(51),l=a.n(c),o=(a(32),a(33),a(34),a(35),a(36),a(37),a(38),a(39),a(40),a(41),a(42),a(5)),s=a(1),i=a(59),u=a(12),m=(a(105),function(){return r.a.createElement(s.a,null,r.a.createElement(s.s,{className:"tab"},r.a.createElement(s.o,null,r.a.createElement(u.b,{path:"/main/home",exact:!0}),r.a.createElement(u.b,{path:"/main/play",exact:!0}),r.a.createElement(u.b,{path:"/main/add",exact:!0}),r.a.createElement(u.b,{path:"/main/chat",exact:!0}),r.a.createElement(u.b,{path:"/main/profile",exact:!0})),r.a.createElement(s.q,{class:"tab-bar",slot:"bottom"},r.a.createElement(s.r,{class:"tab-button",tab:"home",href:"/main/home"},r.a.createElement(s.h,{class:"tab-icon",icon:o.l})),r.a.createElement(s.r,{class:"tab-button",tab:"play",href:"/main/video"},r.a.createElement(s.h,{class:"tab-icon",icon:o.s})),r.a.createElement(s.r,{class:"tab-button",tab:"add",href:"/main/add"},r.a.createElement(s.h,{class:"tab-icon",icon:o.a})),r.a.createElement(s.r,{class:"tab-button",tab:"chat",href:"/main/chat"},r.a.createElement(s.h,{class:"tab-icon",icon:o.d})),r.a.createElement(s.r,{class:"tab-button",tab:"profile",href:"/main/profile"},r.a.createElement(s.h,{class:"tab-icon",icon:o.r})))))}),p=a(9),h=a.n(p),b=a(16),E=a(18),d=a(44),f=a(19);function j(e,t){}var v=Object(n.createContext)({token:null,userId:null,login:j,logout:j,isAunteficated:!1}),y=function(){var e=Object(n.useState)(!1),t=Object(f.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),l=Object(f.a)(c,2),o=l[0],s=l[1];return{loading:a,request:Object(n.useCallback)(function(){var e=Object(b.a)(h.a.mark(function e(t){var a,n,c,l,o,i=arguments;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,c=i.length>3&&void 0!==i[3]?i[3]:{},r(!0),e.prev=4,n&&(n=JSON.stringify(n),c["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:n,headers:c});case 8:return l=e.sent,e.next=11,l.json();case 11:if(o=e.sent,l.ok){e.next=14;break}throw new Error(o.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 14:return r(!1),e.abrupt("return",o);case 18:throw e.prev=18,e.t0=e.catch(4),r(!1),s(e.t0.message),e.t0;case 23:case"end":return e.stop()}},e,null,[[4,18]])}));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(n.useCallback)(function(){return s(null)},[])}},g=function(){return Object(n.useCallback)(function(e){window.M&&e&&window.M.toast({html:e,inDuration:500,outDuration:500,displayLength:1400})},[])};a(71);var w=function(){var e=g(),t=Object(n.useContext)(v),a=y(),c=a.request,l=a.error,i=a.clearError,u=a.loading,m=Object(n.useState)({login:"",password:""}),p=Object(f.a)(m,2),j=p[0],w=p[1];Object(n.useEffect)(function(){e(l),i()},[l,e,i]);var k=function(e){w(Object(d.a)({},j,Object(E.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(b.a)(h.a.mark(function e(){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c("https://wewatch-mobile.herokuapp.com/api/auth/login","POST",Object(d.a)({},j));case 3:a=e.sent,t.login(a.token,a.userId),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement(s.a,null,r.a.createElement(s.g,null,r.a.createElement(s.p,{class:"ion-justify-content-center"},r.a.createElement(s.e,null,r.a.createElement(s.u,{class:"auth-title-ww ion-text-center"},"WeWatch"))),r.a.createElement(s.p,{class:"auth-container icons"},[o.n,o.m,o.o].map(function(e,t){return r.a.createElement(s.j,{color:"transparent",lines:"none",key:t},r.a.createElement("div",{className:"ion-activatable ripple-parent item-hover-cursor"},r.a.createElement(s.h,{class:"auth-btn-social",icon:e}),r.a.createElement(s.m,null)))})),r.a.createElement(s.p,{class:"auth-container"},r.a.createElement(s.j,{class:"auth-items-wrapper-login",color:"transparent",lines:"none"},r.a.createElement(s.k,{className:"auth-label",position:"stacked"},"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement(s.i,{id:"login",name:"login",className:"auth-input",type:"email",value:j.login,onIonChange:k})),r.a.createElement(s.j,{class:"auth-items-wrapper-pass",color:"transparent",lines:"none"},r.a.createElement(s.k,{className:"auth-label",position:"stacked"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(s.i,{id:"password",name:"password",className:"auth-input",type:"password",value:j.password,onIonChange:k}))),r.a.createElement(s.p,{class:"auth-container help"},r.a.createElement(s.t,null,r.a.createElement("p",{className:"item-hover-cursor"},"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"))),r.a.createElement(s.p,{class:"auth-container btn-group"},r.a.createElement(s.j,{class:"wrapper-btn-group",color:"transparent",lines:"none"},r.a.createElement("div",{className:"ion-activatable ripple-parent btn-auth item-hover-cursor"},r.a.createElement(s.b,{fill:"clear",expand:"block",style:{color:"white",width:"100%"},onClick:O,disabled:u},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement(s.m,null))),r.a.createElement(s.j,{href:"/reg",class:"wrapper-btn-group",color:"transparent",lines:"none"},r.a.createElement("div",{className:"ion-activatable ripple-parent btn-reg item-hover-cursor"},r.a.createElement(s.t,null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(s.m,null))))),r.a.createElement(s.f,{className:"ion-no-border footer-auth"},r.a.createElement(s.v,{className:"footer-auth-group-text",color:"transparent"},r.a.createElement("p",null,"\u0418\u043c\u0435\u044e\u0442\u0441\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b? ",r.a.createElement(s.t,{className:"item-hover-cursor",color:"primary"},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u043c\u043e\u0449\u044c")))))},k=function(){var e=g(),t=y(),a=t.request,c=t.error,l=t.clearError,o=Object(n.useState)({login:"",email:"",password:""}),i=Object(f.a)(o,2),u=i[0],m=i[1];Object(n.useEffect)(function(){e(c),l()},[c,e,l]);var p=function(e){m(Object(d.a)({},u,Object(E.a)({},e.target.name,e.target.value)))},j=function(){var t=Object(b.a)(h.a.mark(function t(){var n;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a("https://wewatch-mobile.herokuapp.com/api/auth/register","POST",Object(d.a)({},u));case 3:n=t.sent,e(n.message),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}},t,null,[[0,7]])}));return function(){return t.apply(this,arguments)}}();return r.a.createElement(s.a,null,r.a.createElement(s.g,null,r.a.createElement(s.p,{class:"ion-justify-content-center"},r.a.createElement(s.e,null,r.a.createElement(s.u,{class:"auth-title-ww ion-text-center"},"WeWatch"))),r.a.createElement(s.p,{class:"auth-container"},r.a.createElement(s.j,{class:"auth-items-wrapper-login",color:"transparent",lines:"none"},r.a.createElement(s.k,{className:"auth-label",position:"stacked"},"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement(s.i,{id:"login",name:"login",className:"auth-input",type:"text",value:u.login,onIonChange:p})),r.a.createElement(s.j,{class:"auth-items-wrapper-login",color:"transparent",lines:"none"},r.a.createElement(s.k,{className:"auth-label",position:"stacked"},"\u041f\u043e\u0447\u0442\u0430"),r.a.createElement(s.i,{id:"email",name:"email",className:"auth-input",type:"email",value:u.email,onIonChange:p})),r.a.createElement(s.j,{class:"auth-items-wrapper-pass",color:"transparent",lines:"none"},r.a.createElement(s.k,{className:"auth-label",position:"stacked"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(s.i,{id:"password",name:"password",className:"auth-input",type:"password",value:u.password,onIonChange:p})),r.a.createElement(s.p,{class:"auth-container help"},r.a.createElement(s.l,{class:"progress-pass",color:"success",value:.7}),r.a.createElement("br",null)),r.a.createElement(s.j,{class:"auth-items-wrapper-pass",color:"transparent",lines:"none"},r.a.createElement(s.k,{className:"auth-label repeat",position:"stacked"},"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement(s.i,{className:"auth-input",type:"password"}))),r.a.createElement(s.p,{class:"auth-container accept"},r.a.createElement(s.j,{class:"reg-accept",color:"transparent",lines:"none"},r.a.createElement(s.t,{class:"text-accept"},"\u042f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f"),r.a.createElement(s.d,{slot:"start",value:"Pepperoni",checked:!1}))),r.a.createElement(s.p,{class:"auth-container btn-group"},r.a.createElement(s.j,{class:"wrapper-btn-group",color:"transparent",lines:"none"},r.a.createElement("div",{className:"ion-activatable ripple-parent btn-auth item-hover-cursor"},r.a.createElement(s.b,{fill:"clear",expand:"block",style:{color:"white",width:"100%"},onClick:j,disabled:!1},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(s.m,null))),r.a.createElement(s.j,{href:"/",class:"wrapper-btn-group exit",color:"transparent",lines:"none"},r.a.createElement(s.t,{class:"text-accept"},r.a.createElement("p",{className:"item-hover-cursor text-accept"},"\u041d\u0430\u0437\u0430\u0434"))))),r.a.createElement(s.f,{className:"ion-no-border footer-auth"},r.a.createElement(s.v,{className:"footer-auth-group-text",color:"transparent"},r.a.createElement("p",null,"\u0418\u043c\u0435\u044e\u0442\u0441\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b? ",r.a.createElement(s.t,{className:"item-hover-cursor",color:"primary"},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u043c\u043e\u0449\u044c")))))},O=a(86),x=a.n(O),N=function(){var e="http://localhost:".concat(window.location.port),t=Object(n.useState)(""),a=Object(f.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)(function(){x()(e).on("chat message",function(e){l(e)})},[e]),console.log(c),r.a.createElement(s.a,null,r.a.createElement(s.v,null,r.a.createElement(s.c,{slot:"secondary"},r.a.createElement(s.b,null,r.a.createElement(s.h,{slot:"icon-only",icon:o.v}))),r.a.createElement(s.c,{slot:"primary"},r.a.createElement(s.b,null,r.a.createElement(s.h,{slot:"icon-only",ios:o.j,md:o.k}))),r.a.createElement(s.u,null,"\u0427\u0430\u0442\u044b")),r.a.createElement(s.s,{className:"tab"},r.a.createElement(s.o,null,r.a.createElement(u.b,{path:"/main/home",exact:!0}),r.a.createElement(u.b,{path:"/main/play",exact:!0}),r.a.createElement(u.b,{path:"/main/add",exact:!0}),r.a.createElement(u.b,{path:"/main/chat",exact:!0}),r.a.createElement(u.b,{path:"/main/profile",exact:!0})),r.a.createElement(s.q,{class:"tab-bar",slot:"bottom"},r.a.createElement(s.r,{class:"tab-button",tab:"home",href:"/main/home"},r.a.createElement(s.h,{class:"tab-icon",icon:o.l})),r.a.createElement(s.r,{class:"tab-button",tab:"play",href:"/main/video"},r.a.createElement(s.h,{class:"tab-icon",icon:o.s})),r.a.createElement(s.r,{class:"tab-button",tab:"add",href:"/main/add"},r.a.createElement(s.h,{class:"tab-icon",icon:o.a})),r.a.createElement(s.r,{class:"tab-button",tab:"chat",href:"/main/chat"},r.a.createElement(s.h,{class:"tab-icon",icon:o.d})),r.a.createElement(s.r,{class:"tab-button",tab:"profile",href:"/main/profile"},r.a.createElement(s.h,{class:"tab-icon",icon:o.r})))))},_=function(){var e=function(){var e=Object(n.useState)(null),t=Object(f.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),l=Object(f.a)(c,2),o=l[0],s=l[1],i=Object(n.useCallback)(function(e,t){r(e),s(t),localStorage.setItem("userData",JSON.stringify({userId:t,token:e}))},[]),u=Object(n.useCallback)(function(){r(null),s(null),localStorage.removeItem("userData")},[]);return Object(n.useEffect)(function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&i(e.token,e.userId)},[i]),{login:i,logout:u,token:a,userId:o}}(),t=e.token,a=e.login,c=e.logout,l=e.userId,o=!!t,p=function(e){return e?r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(u.b,{path:"/main",component:m}),r.a.createElement(u.b,{path:"/main/chat",component:N}),r.a.createElement(u.b,{render:function(){return r.a.createElement(u.a,{to:"/main/home"})}}))):r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(s.o,null,r.a.createElement(u.b,{path:"/",component:w}),r.a.createElement(u.b,{path:"/reg",component:k}),r.a.createElement(u.b,{render:function(){return r.a.createElement(u.a,{to:"/"})}}))))}(o);return r.a.createElement(r.a.StrictMode,null,r.a.createElement(v.Provider,{value:{token:t,login:a,logout:c,userId:l,isAunteficated:o}},p))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},42:function(e,t,a){},91:function(e,t,a){e.exports=a(132)},98:function(e,t,a){var n={"./ion-action-sheet.entry.js":[134,5],"./ion-alert.entry.js":[135,6],"./ion-app_8.entry.js":[136,7],"./ion-avatar_3.entry.js":[137,17],"./ion-back-button.entry.js":[138,18],"./ion-backdrop.entry.js":[139,43],"./ion-button_2.entry.js":[140,19],"./ion-card_5.entry.js":[141,20],"./ion-checkbox.entry.js":[142,21],"./ion-chip.entry.js":[143,22],"./ion-col_3.entry.js":[144,44],"./ion-datetime_3.entry.js":[145,10],"./ion-fab_3.entry.js":[146,23],"./ion-img.entry.js":[147,45],"./ion-infinite-scroll_2.entry.js":[148,46],"./ion-input.entry.js":[149,24],"./ion-item-option_3.entry.js":[150,25],"./ion-item_8.entry.js":[151,26],"./ion-loading.entry.js":[152,27],"./ion-menu_3.entry.js":[153,28],"./ion-modal.entry.js":[154,8],"./ion-nav_2.entry.js":[155,14],"./ion-popover.entry.js":[156,9],"./ion-progress-bar.entry.js":[157,29],"./ion-radio_2.entry.js":[158,30],"./ion-range.entry.js":[159,31],"./ion-refresher_2.entry.js":[160,11],"./ion-reorder_2.entry.js":[161,16],"./ion-ripple-effect.entry.js":[162,47],"./ion-route_4.entry.js":[163,32],"./ion-searchbar.entry.js":[164,33],"./ion-segment_2.entry.js":[165,34],"./ion-select_3.entry.js":[166,35],"./ion-slide_2.entry.js":[167,48],"./ion-spinner.entry.js":[168,13],"./ion-split-pane.entry.js":[169,49],"./ion-tab-bar_2.entry.js":[170,36],"./ion-tab_2.entry.js":[171,15],"./ion-text.entry.js":[172,37],"./ion-textarea.entry.js":[173,38],"./ion-toast.entry.js":[174,39],"./ion-toggle.entry.js":[175,12],"./ion-virtual-scroll.entry.js":[176,50]};function r(e){var t=n[e];return t?a.e(t[1]).then(function(){var e=t[0];return a(e)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}r.keys=function(){return Object.keys(n)},r.id=98,e.exports=r}},[[91,3,4]]]);
//# sourceMappingURL=main.7664543e.chunk.js.map