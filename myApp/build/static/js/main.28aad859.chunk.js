(this.webpackJsonpwewatch=this.webpackJsonpwewatch||[]).push([[1],{40:function(e,t,n){},73:function(e,t,n){var r={"./ion-action-sheet.entry.js":[84,5],"./ion-alert.entry.js":[85,6],"./ion-app_8.entry.js":[86,7],"./ion-avatar_3.entry.js":[87,17],"./ion-back-button.entry.js":[88,18],"./ion-backdrop.entry.js":[89,43],"./ion-button_2.entry.js":[90,19],"./ion-card_5.entry.js":[91,20],"./ion-checkbox.entry.js":[92,21],"./ion-chip.entry.js":[93,22],"./ion-col_3.entry.js":[94,44],"./ion-datetime_3.entry.js":[95,10],"./ion-fab_3.entry.js":[96,23],"./ion-img.entry.js":[97,45],"./ion-infinite-scroll_2.entry.js":[98,46],"./ion-input.entry.js":[99,24],"./ion-item-option_3.entry.js":[100,25],"./ion-item_8.entry.js":[101,26],"./ion-loading.entry.js":[102,27],"./ion-menu_3.entry.js":[103,28],"./ion-modal.entry.js":[104,8],"./ion-nav_2.entry.js":[105,14],"./ion-popover.entry.js":[106,9],"./ion-progress-bar.entry.js":[107,29],"./ion-radio_2.entry.js":[108,30],"./ion-range.entry.js":[109,31],"./ion-refresher_2.entry.js":[110,11],"./ion-reorder_2.entry.js":[111,16],"./ion-ripple-effect.entry.js":[112,47],"./ion-route_4.entry.js":[113,32],"./ion-searchbar.entry.js":[114,33],"./ion-segment_2.entry.js":[115,34],"./ion-select_3.entry.js":[116,35],"./ion-slide_2.entry.js":[117,48],"./ion-spinner.entry.js":[118,13],"./ion-split-pane.entry.js":[119,49],"./ion-tab-bar_2.entry.js":[120,36],"./ion-tab_2.entry.js":[121,15],"./ion-text.entry.js":[122,37],"./ion-textarea.entry.js":[123,38],"./ion-toast.entry.js":[124,39],"./ion-toggle.entry.js":[125,12],"./ion-virtual-scroll.entry.js":[126,50]};function s(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],s=t[0];return n.e(t[1]).then((function(){return n(s)}))}s.keys=function(){return Object.keys(r)},s.id=73,e.exports=s},75:function(e,t,n){var r={"./ion-icon.entry.js":[128,57]};function s(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],s=t[0];return n.e(t[1]).then((function(){return n(s)}))}s.keys=function(){return Object.keys(r)},s.id=75,e.exports=s},80:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),a=n(43),c=n.n(a),o=(n(30),n(31),n(32),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(11)),i=n(2),l=n(49),j=n(16),b=(n(80),n(1)),u=function(){return Object(b.jsxs)(i.r,{className:"tab",children:[Object(b.jsxs)(i.n,{children:[Object(b.jsx)(j.b,{path:"/main/home",exact:!0}),Object(b.jsx)(j.b,{path:"/main/play",exact:!0}),Object(b.jsx)(j.b,{path:"/main/add",exact:!0}),Object(b.jsx)(j.b,{path:"/main/chat",exact:!0}),Object(b.jsx)(j.b,{path:"/main/profile",exact:!0})]}),Object(b.jsxs)(i.p,{class:"tab-bar",slot:"bottom",children:[Object(b.jsx)(i.q,{class:"tab-button",tab:"home",href:"/main/home",children:Object(b.jsx)(i.g,{class:"tab-icon",icon:o.j})}),Object(b.jsx)(i.q,{class:"tab-button",tab:"play",href:"/main/video",children:Object(b.jsx)(i.g,{class:"tab-icon",icon:o.q})}),Object(b.jsx)(i.q,{class:"tab-button",tab:"add",href:"/main/add",children:Object(b.jsx)(i.g,{class:"tab-icon",icon:o.a})}),Object(b.jsx)(i.q,{class:"tab-button",tab:"chat",href:"/main/chat",children:Object(b.jsx)(i.g,{class:"tab-icon",icon:o.d})}),Object(b.jsx)(i.q,{class:"tab-button",tab:"profile",href:"/main/profile",children:Object(b.jsx)(i.g,{class:"tab-icon",icon:o.p})})]})]})},h=n(8),p=n.n(h),d=n(15),O=n(18),x=n(26),m=n(20);function f(e,t){}var g=Object(r.createContext)({token:null,userId:null,login:f,logout:f,isAunteficated:!1}),v=function(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(null),c=Object(m.a)(a,2),o=c[0],i=c[1];return{loading:n,request:Object(r.useCallback)(function(){var e=Object(d.a)(p.a.mark((function e(t){var n,r,a,c,o,l=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"GET",r=l.length>2&&void 0!==l[2]?l[2]:null,a=l.length>3&&void 0!==l[3]?l[3]:{},s(!0),e.prev=4,r&&(r=JSON.stringify(r),a["Content-Type"]="application/json"),e.next=8,fetch(t,{method:n,body:r,headers:a});case 8:return c=e.sent,e.next=11,c.json();case 11:if(o=e.sent,c.ok){e.next=14;break}throw new Error(o.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 14:return s(!1),e.abrupt("return",o);case 18:throw e.prev=18,e.t0=e.catch(4),s(!1),i(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(r.useCallback)((function(){return i(null)}),[])}},y=function(){return Object(r.useCallback)((function(e){window.M&&e&&window.M.toast({html:e,inDuration:500,outDuration:500,displayLength:1400})}),[])};n(61);var w=function(){var e=y(),t=Object(r.useContext)(g),n=v(),s=n.request,a=n.error,c=n.clearError,l=n.loading,j=Object(r.useState)({login:"",password:""}),u=Object(m.a)(j,2),h=u[0],f=u[1];Object(r.useEffect)((function(){e(a),c()}),[a,e,c]);var w=function(e){f(Object(x.a)(Object(x.a)({},h),{},Object(O.a)({},e.target.name,e.target.value)))},k=function(){var e=Object(d.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s("api/auth/login","POST",Object(x.a)({},h));case 3:n=e.sent,t.login(n.token,n.userId),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(i.a,{children:[Object(b.jsxs)(i.f,{children:[Object(b.jsx)(i.o,{class:"ion-justify-content-center",children:Object(b.jsx)(i.d,{children:Object(b.jsx)(i.t,{class:"auth-title-ww ion-text-center",children:"WeWatch"})})}),Object(b.jsx)(i.o,{class:"auth-container icons",children:[o.l,o.k,o.m].map((function(e,t){return Object(b.jsx)(i.i,{color:"transparent",lines:"none",children:Object(b.jsxs)("div",{className:"ion-activatable ripple-parent item-hover-cursor",children:[Object(b.jsx)(i.g,{class:"auth-btn-social",icon:e}),Object(b.jsx)(i.l,{})]})},t)}))}),Object(b.jsxs)(i.o,{class:"auth-container",children:[Object(b.jsxs)(i.i,{class:"auth-items-wrapper-login",color:"transparent",lines:"none",children:[Object(b.jsx)(i.j,{className:"auth-label",position:"stacked",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(b.jsx)(i.h,{id:"login",name:"login",className:"auth-input",type:"email",value:h.login,onIonChange:w})]}),Object(b.jsxs)(i.i,{class:"auth-items-wrapper-pass",color:"transparent",lines:"none",children:[Object(b.jsx)(i.j,{className:"auth-label",position:"stacked",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)(i.h,{id:"password",name:"password",className:"auth-input",type:"password",value:h.password,onIonChange:w})]})]}),Object(b.jsx)(i.o,{class:"auth-container help",children:Object(b.jsx)(i.s,{children:Object(b.jsx)("p",{className:"item-hover-cursor",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})})}),Object(b.jsxs)(i.o,{class:"auth-container btn-group",children:[Object(b.jsx)(i.i,{class:"wrapper-btn-group",color:"transparent",lines:"none",children:Object(b.jsxs)("div",{className:"ion-activatable ripple-parent btn-auth item-hover-cursor",children:[Object(b.jsx)(i.b,{fill:"clear",expand:"block",style:{color:"white",width:"100%"},onClick:k,disabled:l,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(b.jsx)(i.l,{})]})}),Object(b.jsx)(i.i,{href:"/reg",class:"wrapper-btn-group",color:"transparent",lines:"none",children:Object(b.jsxs)("div",{className:"ion-activatable ripple-parent btn-reg item-hover-cursor",children:[Object(b.jsx)(i.s,{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(b.jsx)(i.l,{})]})})]})]}),Object(b.jsx)(i.e,{className:"ion-no-border footer-auth",children:Object(b.jsx)(i.u,{className:"footer-auth-group-text",color:"transparent",children:Object(b.jsxs)("p",{children:["\u0418\u043c\u0435\u044e\u0442\u0441\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b? ",Object(b.jsx)(i.s,{className:"item-hover-cursor",color:"primary",children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u043c\u043e\u0449\u044c"})]})})})]})},k=function(){var e=y(),t=v(),n=t.request,s=t.error,a=t.clearError,c=Object(r.useState)({login:"",email:"",password:""}),o=Object(m.a)(c,2),l=o[0],j=o[1];Object(r.useEffect)((function(){e(s),a()}),[s,e,a]);var u=function(e){j(Object(x.a)(Object(x.a)({},l),{},Object(O.a)({},e.target.name,e.target.value)))},h=function(){var t=Object(d.a)(p.a.mark((function t(){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n("api/auth/register","POST",Object(x.a)({},l));case 3:r=t.sent,e(r.message),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(b.jsxs)(i.a,{children:[Object(b.jsxs)(i.f,{children:[Object(b.jsx)(i.o,{class:"ion-justify-content-center",children:Object(b.jsx)(i.d,{children:Object(b.jsx)(i.t,{class:"auth-title-ww ion-text-center",children:"WeWatch"})})}),Object(b.jsxs)(i.o,{class:"auth-container",children:[Object(b.jsxs)(i.i,{class:"auth-items-wrapper-login",color:"transparent",lines:"none",children:[Object(b.jsx)(i.j,{className:"auth-label",position:"stacked",children:"\u041b\u043e\u0433\u0438\u043d"}),Object(b.jsx)(i.h,{id:"login",name:"login",className:"auth-input",type:"text",value:l.login,onIonChange:u})]}),Object(b.jsxs)(i.i,{class:"auth-items-wrapper-login",color:"transparent",lines:"none",children:[Object(b.jsx)(i.j,{className:"auth-label",position:"stacked",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(b.jsx)(i.h,{id:"email",name:"email",className:"auth-input",type:"email",value:l.email,onIonChange:u})]}),Object(b.jsxs)(i.i,{class:"auth-items-wrapper-pass",color:"transparent",lines:"none",children:[Object(b.jsx)(i.j,{className:"auth-label",position:"stacked",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)(i.h,{id:"password",name:"password",className:"auth-input",type:"password",value:l.password,onIonChange:u})]}),Object(b.jsxs)(i.o,{class:"auth-container help",children:[Object(b.jsx)(i.k,{class:"progress-pass",color:"success",value:.7}),Object(b.jsx)("br",{})]}),Object(b.jsxs)(i.i,{class:"auth-items-wrapper-pass",color:"transparent",lines:"none",children:[Object(b.jsx)(i.j,{className:"auth-label repeat",position:"stacked",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(b.jsx)(i.h,{className:"auth-input",type:"password"})]})]}),Object(b.jsx)(i.o,{class:"auth-container accept",children:Object(b.jsxs)(i.i,{class:"reg-accept",color:"transparent",lines:"none",children:[Object(b.jsx)(i.s,{class:"text-accept",children:"\u042f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f"}),Object(b.jsx)(i.c,{slot:"start",value:"Pepperoni",checked:!1})]})}),Object(b.jsxs)(i.o,{class:"auth-container btn-group",children:[Object(b.jsx)(i.i,{class:"wrapper-btn-group",color:"transparent",lines:"none",children:Object(b.jsxs)("div",{className:"ion-activatable ripple-parent btn-auth item-hover-cursor",children:[Object(b.jsx)(i.b,{fill:"clear",expand:"block",style:{color:"white",width:"100%"},onClick:h,disabled:!1,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(b.jsx)(i.l,{})]})}),Object(b.jsx)(i.i,{href:"/",class:"wrapper-btn-group exit",color:"transparent",lines:"none",children:Object(b.jsx)(i.s,{class:"text-accept",children:Object(b.jsx)("p",{className:"item-hover-cursor text-accept",children:"\u041d\u0430\u0437\u0430\u0434"})})})]})]}),Object(b.jsx)(i.e,{className:"ion-no-border footer-auth",children:Object(b.jsx)(i.u,{className:"footer-auth-group-text",color:"transparent",children:Object(b.jsxs)("p",{children:["\u0418\u043c\u0435\u044e\u0442\u0441\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b? ",Object(b.jsx)(i.s,{className:"item-hover-cursor",color:"primary",children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u043c\u043e\u0449\u044c"})]})})})]})},N="userData",_=function(){var e=function(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(null),c=Object(m.a)(a,2),o=c[0],i=c[1],l=Object(r.useCallback)((function(e,t){s(e),i(t),localStorage.setItem(N,JSON.stringify({userId:t,token:e}))}),[]),j=Object(r.useCallback)((function(){s(null),i(null),localStorage.removeItem(N)}),[]);return Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem(N));e&&e.token&&l(e.token,e.userId)}),[l]),{login:l,logout:j,token:n,userId:o}}(),t=e.token,n=e.login,a=e.logout,c=e.userId,o=!!t,h=function(e){return e?Object(b.jsx)(i.a,{children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)(j.b,{path:"/main",component:u}),Object(b.jsx)(j.b,{render:function(){return Object(b.jsx)(j.a,{to:"/main/home"})}})]})}):Object(b.jsx)(i.a,{children:Object(b.jsx)(l.a,{children:Object(b.jsxs)(i.n,{children:[Object(b.jsx)(j.b,{path:"/",component:w}),Object(b.jsx)(j.b,{path:"/reg",component:k}),Object(b.jsx)(j.b,{render:function(){return Object(b.jsx)(j.a,{to:"/"})}})]})})})}(o);return Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(g.Provider,{value:{token:t,login:n,logout:a,userId:c,isAunteficated:o},children:h})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(b.jsx)(_,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[82,3,4]]]);
//# sourceMappingURL=main.28aad859.chunk.js.map